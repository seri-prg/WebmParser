# WebmParser
Webm解析サポート


webmフォーマットの解析サポートです。
タグ及びデータサイズをVintから算出します。

Media Source Extensionsからwebmを再生する際、
初期化部とデータを分けて送信する必要があると誤解して作成したものです。
2024/1/5時点ではそのような対応は必要なくwebmデータをMSEのsourceBufferに設定すれば再生されるようです。
上記でwebmが再生されない原因に以下のものがありました。

・mimeが合っていない
動画と違うエンコーダがmimeに設定されていると再生されません。
例えば音声の無い動画に対して'video/webm; codecs="vp8, vorbis"'と音声エンコーダの設定をした場合も再生されないようです。

・metadataの値がおかしい。
MSE内でmetaデータを見ているらしく、何らかのチェックにひっかかると再生されないようです。
（一般的な動画プレイヤーでは再生されブラウザでは再生されない状態になりました。）
動画をwebmに変換する際、ffmpegの-map_metadata -1で回避する事ができました。

